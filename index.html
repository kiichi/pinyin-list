<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#9b5a2f" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="Mandarin" />
  <meta name="mobile-web-app-capable" content="yes" />
  <title>Mandarin Together</title>
  <link rel="icon" href="favicon.ico" sizes="any" />
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png" />
  <link rel="manifest" href="site.webmanifest" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="app">
    <header>
      <h1>Mandarin Together</h1>
      <div id="subtitleText" class="subtitle">Input English or Japanese. Get Chinese + pinyin + katakana + audio.</div>
      <div class="mode-row">
        <label class="mode-label" for="modeSelect">Mode</label>
        <select id="modeSelect" class="mode-select">
          <option value="zh">Japanese / English -> Chinese</option>
          <option value="ja">Chinese / English -> Japanese</option>
          <option value="ko">Japanese / English -> Korean</option>
          <option value="ja_ko">Korean / English -> Japanese</option>
        </select>
      </div>
    </header>

    <section class="lookup-row">
      <div class="cell">
        <div id="inputLabel" class="cell-label">Input Word</div>
        <input id="sourceText" class="input-inline" type="text" placeholder="Type English or Japanese..." />
      </div>
      <div class="cell">
        <div id="targetLabel" class="cell-label">Chinese</div>
        <div id="zhText" class="cell-value zh">-</div>
      </div>
      <div class="cell">
        <div id="readingLabel" class="cell-label">Pinyin</div>
        <div id="readingInline" class="pinyin-inline">
          <span id="pinyinText" class="cell-value">-</span>
          <button id="speakBtn" class="secondary play-inline" aria-label="Play pronunciation" title="Play pronunciation" disabled>▶</button>
        </div>
      </div>
      <div class="cell">
        <div id="kanaLabel" class="cell-label">Katakana</div>
        <div id="kanaInline" class="pinyin-inline">
          <span id="katakanaText" class="cell-value">-</span>
        </div>
      </div>
      <div class="cell save-cell">
        <div class="cell-label">Save</div>
        <button id="saveBtn" class="secondary save-inline" aria-label="Save to list" title="Save to list" disabled>+ Add</button>
      </div>
    </section>

    <div id="errorBox" class="error"></div>

    <section class="saved">
      <div id="playAllProgress" class="playall-progress">
        <div class="playall-progress-head">
          <div class="playall-progress-left">
            <div class="playall-mode-wrap">
              <button id="playAllWidgetBtn" class="secondary playall-widget-btn" type="button">Play All</button>
              <button id="playAllModeBtn" class="secondary playall-mode-btn" type="button" aria-haspopup="true" aria-expanded="false" aria-label="Play mode">▾</button>
              <div id="playAllModeMenu" class="playall-mode-menu" hidden>
                <button id="playFromBeginningBtn" class="playall-mode-item" type="button">Play from the beginning</button>
                <button id="playFromCurrentBtn" class="playall-mode-item" type="button">Play from the current item</button>
                <button id="playRandomBtn" class="playall-mode-item" type="button">Play at random</button>
              </div>
            </div>
            <button id="flashCardToggleBtn" class="secondary playall-toggle-btn" type="button" aria-pressed="false">Flash Card Off</button>
            <button id="flashCardPrevBtn" class="secondary playall-toggle-btn" type="button">Prev</button>
            <button id="flashCardNextBtn" class="secondary playall-toggle-btn" type="button">Next</button>
            <label class="playall-repeat-label" for="playAllRepeatSelect">Repeat</label>
            <select id="playAllRepeatSelect" class="playall-repeat-select" aria-label="Repeat each word">
              <option value="1">1x</option>
              <option value="2" selected>2x</option>
              <option value="3">3x</option>
            </select>
            <label class="playall-repeat-label" for="playAllIntervalSelect">Interval</label>
            <select id="playAllIntervalSelect" class="playall-repeat-select" aria-label="Interval between plays">
              <option value="1000">1s</option>
              <option value="1500" selected>1.5s</option>
              <option value="2000">2s</option>
            </select>
            <label class="playall-source-toggle">
              <input id="playAllReadSourceCheckbox" type="checkbox" checked />
              <span>Read both</span>
            </label>
          </div>
          <div class="playall-progress-right">
            <span id="playAllProgressText" class="playall-progress-text">0 / 0</span>
          </div>
        </div>
        <div class="playall-progress-track" role="progressbar" aria-label="Play all progress" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
          <div id="playAllProgressFill" class="playall-progress-fill"></div>
        </div>
      </div>
      <div class="tabs-bar">
        <div id="tabsList" class="tabs-list"></div>
        <div class="tabs-menu-wrap">
          <button id="controllerToggleBtn" class="secondary controller-toggle-btn" type="button" aria-expanded="true" aria-label="Collapse controller">▴</button>
          <button id="tabsMenuBtn" class="tabs-menu-btn" aria-label="More actions" title="More actions">⋯</button>
          <div id="tabsMenuPanel" class="tabs-menu-panel" hidden>
            <div class="tabs-submenu-wrap">
              <button id="moveToTriggerBtn" class="tabs-menu-item tabs-submenu-trigger" type="button" aria-haspopup="true" aria-expanded="false">
                <span>Move To</span>
                <span class="tabs-submenu-arrow" aria-hidden="true">▸</span>
              </button>
              <div id="moveToSubmenu" class="tabs-submenu-panel" hidden>
                <div id="moveToList" class="tabs-move-list"></div>
              </div>
            </div>
            <div class="tabs-submenu-wrap">
              <button id="copyToTriggerBtn" class="tabs-menu-item tabs-submenu-trigger" type="button" aria-haspopup="true" aria-expanded="false">
                <span>Copy To</span>
                <span class="tabs-submenu-arrow" aria-hidden="true">▸</span>
              </button>
              <div id="copyToSubmenu" class="tabs-submenu-panel" hidden>
                <div id="copyToList" class="tabs-move-list"></div>
              </div>
            </div>
            <div class="tabs-menu-sep"></div>
            <button id="batchDeleteBtn" class="tabs-menu-item danger" type="button" disabled>Delete Selected Items</button>
            <button id="clearBtn" class="tabs-menu-item danger" type="button">Clear All Items</button>
            <button id="deleteTabBtn" class="tabs-menu-item danger" type="button">Delete This Tab</button>
            <button id="deleteAllTabsBtn" class="tabs-menu-item danger" type="button">Delete All Tabs</button>
            <button id="resetEverythingBtn" class="tabs-menu-item danger" type="button">Reset Everything</button>
            <div class="tabs-menu-sep"></div>
            <button id="exportBtn" class="tabs-menu-item" type="button">Export Data</button>
            <button id="importBtn" class="tabs-menu-item" type="button">Import Data</button>
            <div class="tabs-submenu-wrap">
              <button id="loadDataTriggerBtn" class="tabs-menu-item tabs-submenu-trigger" type="button" aria-haspopup="true" aria-expanded="false">
                <span>Load Data</span>
                <span class="tabs-submenu-arrow" aria-hidden="true">▸</span>
              </button>
              <div id="loadDataSubmenu" class="tabs-submenu-panel" hidden>
                <button id="loadHsk1Btn" class="tabs-menu-item" type="button">HSK Level 1</button>
                <button id="loadHsk2Btn" class="tabs-menu-item" type="button">HSK Level 2</button>
                <button id="loadHsk12Btn" class="tabs-menu-item" type="button">HSK Level 1-2</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <input id="importFileInput" type="file" accept="application/json,.json" hidden />
      <div id="flashCardStage" class="flashcard-stage" hidden></div>
      <ul id="savedList" class="saved-list"></ul>
    </section>
  </main>
  <div id="importChoiceDialog" class="import-choice-dialog" hidden>
    <div class="import-choice-card" role="dialog" aria-modal="true" aria-labelledby="importChoiceTitle">
      <h2 id="importChoiceTitle" class="import-choice-title">Import Data</h2>
      <p class="import-choice-text">Choose how to import.</p>
      <div class="import-choice-actions">
        <button id="importChoiceNewTabBtn" class="secondary import-choice-btn" type="button">Add as new tab(s)</button>
        <button id="importChoiceReplaceBtn" class="import-choice-btn import-choice-danger" type="button">Delete all and import</button>
        <button id="importChoiceCancelBtn" class="import-choice-btn" type="button">Cancel</button>
      </div>
    </div>
  </div>
  <button id="scrollTopFab" class="scroll-top-fab" type="button" aria-label="Scroll to top" title="Scroll to top" hidden>↑</button>

  <script src="https://cdn.jsdelivr.net/npm/pinyin-pro@3.26.0/dist/index.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
